"0",""
"0","######################### Step 1. Exploration of data #######################################"
"0","#a. all variables are categorical - change them to factors"
"0","leprosy_data$sex<-as.factor(leprosy_data$sex)"
"0","leprosy_data$caco<-as.factor(leprosy_data$caco)"
"0","leprosy_data$agegrp<-as.factor(leprosy_data$agegrp)"
"0","leprosy_data$bcgscar<-as.factor(leprosy_data$bcgscar)"
"0","leprosy_data$school<-as.factor(leprosy_data$school)"
"0","leprosy_data$mbcont<-as.factor(leprosy_data$mbcont)"
"0","leprosy_data$pbcont<-as.factor(leprosy_data$pbcont)"
"0",""
"0","#plot for cases per sex - more women in cases"
"0","mytable <- table(leprosy_data$caco, leprosy_data$sex)"
"0","myproptable<-prop.table(mytable, margin = 1)"
"0","myproptable<-as.data.frame(myproptable)"
"0","names(myproptable) <- c(""Case"", ""Sex"", ""Proportion"")"
"0","myplot <- ggplot(data = myproptable)"
"0","csex<-myplot + geom_col(aes(x = Case, y = Proportion, fill = Sex), "
"0","                  position = position_dodge(width = 0.9), "
"0","                  alpha = 0.8) +"
"0","  labs(title = ""Sex and case status"","
"0","       x = ""Case Status"","
"0","       y = ""Proportion or Percentage"")"
"0","#plot for cases per school - more percentage of school category 1 in cases, less in 3 and 4"
"0","mytable <- table(leprosy_data$caco, leprosy_data$school)"
"0","myproptable<-prop.table(mytable, margin = 1)"
"0","myproptable<-as.data.frame(myproptable)"
"0","names(myproptable) <- c(""Case"", ""School"", ""Proportion"")"
"0","myplot <- ggplot(data = myproptable)"
"0","cschool<-myplot + geom_col(aes(x = Case, y = Proportion, fill = School), "
"0","                        position = position_dodge(width = 0.9), "
"0","                        alpha = 0.8) +"
"0","  labs(title = ""School and case status"","
"0","       x = ""Case Status"","
"0","       y = ""Proportion or Percentage"")"
"0",""
"0","#plot for cases per age - more percentage of people >=30 in cases"
"0","mytable <- table(leprosy_data$caco, leprosy_data$agegrp)"
"0","myproptable<-prop.table(mytable, margin = 1)"
"0","myproptable<-as.data.frame(myproptable)"
"0","names(myproptable) <- c(""Case"", ""AgeGroup"", ""Proportion"")"
"0","myplot <- ggplot(data = myproptable)"
"0","cage<-myplot + geom_col(aes(x = Case, y = Proportion, fill = AgeGroup), "
"0","                           position = position_dodge(width = 0.9), "
"0","                           alpha = 0.8) +"
"0","  labs(title = ""Age group and case status"","
"0","       x = ""Case Status"","
"0","       y = ""Proportion or Percentage"")"
"0",""
"0","#plot for cases per BCG scar - less percentage of BCG yes in cases"
"0","mytable <- table(leprosy_data$caco, leprosy_data$bcgscar)"
"0","myproptable<-prop.table(mytable, margin = 1)"
"0","myproptable<-as.data.frame(myproptable)"
"0","names(myproptable) <- c(""Case"", ""BCG"", ""Proportion"")"
"0","myplot <- ggplot(data = myproptable)"
"0","cbcg<-myplot + geom_col(aes(x = Case, y = Proportion, fill = BCG), "
"0","                        position = position_dodge(width = 0.9), "
"0","                        alpha = 0.8) +"
"0","  labs(title = ""BCG scar and case status"","
"0","       x = ""Case Status"","
"0","       y = ""Proportion or Percentage"")"
"0",""
"0","#plot for cases per household contact with multibacillary case  - more percentage of mbcont in cases"
"0","mytable <- table(leprosy_data$caco, leprosy_data$mbcont)"
"0","myproptable<-prop.table(mytable, margin = 1)"
"0","myproptable<-as.data.frame(myproptable)"
"0","names(myproptable) <- c(""Case"", ""Mbcont"", ""Proportion"")"
"0","myplot <- ggplot(data = myproptable)"
"0","cmb<-myplot + geom_col(aes(x = Case, y = Proportion, fill = Mbcont), "
"0","                        position = position_dodge(width = 0.9), "
"0","                        alpha = 0.8) +"
"0","  labs(title = ""Multibacillary contact and case status"","
"0","       x = ""Case Status"","
"0","       y = ""Proportion or Percentage"")"
"0",""
"0","#plot for cases per household contact with paucibacillary case  - more percentage of pbcont in cases"
"0","mytable <- table(leprosy_data$caco, leprosy_data$pbcont)"
"0","myproptable<-prop.table(mytable, margin = 1)"
"0","myproptable<-as.data.frame(myproptable)"
"0","names(myproptable) <- c(""Case"", ""pbcont"", ""Proportion"")"
"0","myplot <- ggplot(data = myproptable)"
"0","cpb<-myplot + geom_col(aes(x = Case, y = Proportion, fill = pbcont), "
"0","                       position = position_dodge(width = 0.9), "
"0","                       alpha = 0.8) +"
"0","  labs(title = ""Paucibacillary contact and case status"","
"0","       x = ""Case Status"","
"0","       y = ""Proportion or Percentage"")"
"0","#Final plot"
"0","ggarrange(csex,cage,cschool,cbcg,cmb,cpb,ncol=3,nrow=3)"
"0",""
